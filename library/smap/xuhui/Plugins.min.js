!function (e, t) { "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.Plugins = t() }(this, function () { "use strict"; var e = (t.prototype._addListener = function (e, t, i) { if (this.emit("newListener", e, t), this.events.has(e)) { var r = this.events.get(e); i ? r.unshift(t) : r.push(t) } else this.events.set(e, [t]); var o = this.getMaxListeners(); if (0 < o && this.listenerCount(e) > o) { var l = new Error("Possible EventEmitter memory leak detected.\n         " + this.listenerCount(e) + " " + e.toString() + " listeners.\n         Use emitter.setMaxListeners() to increase limit"); l.name = "MaxListenersExceededWarning", console.warn(l) } return this }, t.prototype.addListener = function (e, t) { return this._addListener(e, t, !1) }, t.prototype.emit = function (e) { for (var t = [], i = 1; i < arguments.length; i++)t[i - 1] = arguments[i]; if (this.events.has(e)) { for (var r = 0, o = this.events.get(e).slice(); r < o.length; r++) { var l = o[r]; try { l.apply(this, t) } catch (e) { this.emit("error", e) } } return !0 } if ("error" === e) throw 0 < t.length ? t[0] : Error("Unhandled error."); return !1 }, t.prototype.eventNames = function () { return Array.from(this.events.keys()) }, t.prototype.getMaxListeners = function () { return this.maxListeners || t.defaultMaxListeners }, t.prototype.listenerCount = function (e) { return this.events.has(e) ? this.events.get(e).length : 0 }, t.prototype._listeners = function (e, t, i) { if (!e.events.has(t)) return []; var r = e.events.get(t); return i ? this.unwrapListeners(r) : r.slice(0) }, t.prototype.unwrapListeners = function (e) { for (var t = new Array(e.length), i = 0; i < e.length; i++)t[i] = e[i].listener || e[i]; return t }, t.prototype.listeners = function (e) { return this._listeners(this, e, !0) }, t.prototype.rawListeners = function (e) { return this._listeners(this, e, !1) }, t.prototype.off = function (e, t) { return this.removeListener(e, t) }, t.prototype.on = function (e, t) { return this.addListener(e, t) }, t.prototype.once = function (e, t) { var i = this.onceWrap(e, t); return this.on(e, i), this }, t.prototype.onceWrap = function (e, t) { function i() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; this.context.removeListener(this.eventName, this.rawListener), this.listener.apply(this.context, e) } var r = { eventName: e, listener: t, rawListener: i, context: this }, o = i.bind(r); return (r.rawListener = o).listener = t, o }, t.prototype.prependListener = function (e, t) { return this._addListener(e, t, !0) }, t.prototype.prependOnceListener = function (e, t) { var i = this.onceWrap(e, t); return this.prependListener(e, i), this }, t.prototype.removeAllListeners = function (e) { var t = this; if (void 0 === this.events) return this; if (this.events.has(e)) { var i = this.events.get(e).slice(); this.events.delete(e); for (var r = 0, o = i; r < o.length; r++) { var l = o[r]; this.emit("removeListener", e, l) } } else this.eventNames().map(function (e) { t.removeAllListeners(e) }); return this }, t.prototype.removeListener = function (e, t) { if (this.events.has(e)) { var i = this.events.get(e); -1 !== i.indexOf(t) && (i.splice(i.indexOf(t), 1), this.emit("removeListener", e, t), 0 === i.length && this.events.delete(e)) } return this }, t.prototype.setMaxListeners = function (e) { return this.maxListeners = e, this }, t.defaultMaxListeners = 50, t); function t() { this.events = new Map } var y = (i.jsapi ="http://10.201.37.225:8080/smiapi/arcgis",i.jsapiversion4X="4.15",i);function i(){}var a=y.jsapiversion4X,o="next";function l(e){if(null===e&&(e=a),e.toString().toLowerCase()===o)return o;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function n(e){return void 0===e&&(e=a),y.jsapi+"/"+e+"/init.js"}function s(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function u(e,t){if(t){var i=document.querySelector(t);i.parentNode.insertBefore(e,i)}else document.head.appendChild(e)}function d(e){return document.querySelector('link[href*="'+e+'"]')}function p(e){return!e||l(e)?function(e){void 0===e&&(e=a),null===e&&(e=a);var t=n(e),i=t.substring(0,t.indexOf("init.js")),r=l(e);return r===o||3!==r.major?i+"esri/themes/light/main.css":i+(r.minor<=10?"js/":"")+"esri/css/esri.css"}(e):e}function c(e,t){var i=p(e),r=d(i);if(r||u(r=s(i),t),4===function(e){null===e&&(e=a);var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}(e).major){var o=i.substring(0,i.indexOf("esri/themes/"))+"esri/themes/gis/css/gis.css",l=d(o);l||u(l=s(o),t)}return r}var r={Promise:"undefined"!=typeof window?window.Promise:void 0},f={};function h(e,t,i){var r,o,l,a;i&&(l=i,a=function(e){l(e.error||new Error("There was an error attempting to load "+o.src)),o.removeEventListener("error",a,!1)},(o=e).addEventListener("error",a,!1),r=a);var n=function(){t(e),e.removeEventListener("load",n,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",n,!1)}function b(){return document.querySelector("script[data-shsmi]")}function v(){var e=window.require;return e&&e.on}function m(e){void 0===e&&(e={});var s={};[f,e].forEach(function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=e[t])});var u=s.version,d=s.url||n(u);return new r.Promise(function(e,t){var i,r,o=b();if(o){var l=o.getAttribute("src");l!==d?t(new Error("The ArcGIS API for JavaScript is already loaded ("+l+").")):v()?e(o):h(o,e,t)}else if(v())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var a=s.css;if(a)c(!0===a?u:a,s.insertCssBefore);else c(null,s.insertCssBefore);if(s.dojoConfig)window.dojoConfig=s.dojoConfig;else{var n={async:!0,packages:[{location:y.jsapi+"/extensions",name:"smiapi"},{location:y.jsapi+"/extensions/geolocation",name:"geolocate",main:"geolocate"}],deps:["@dojo/framework/shim/main"],has:{"esri-promise-compatibility":1,"esri-featurelayer-webgl":1}};window.dojoConfig=n}i=d,(r=document.createElement("script")).type="text/javascript",r.src=i,r.setAttribute("data-shsmi","loading"),h(o=r,function(){o.setAttribute("data-shsmi","loaded"),e(o)},t),document.head.appendChild(o)}})}function g(t){return new r.Promise(function(i,e){var r=window.require.on("error",e);window.require(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.remove(),i(e)})})}function w(e,t){if(void 0===t&&(t={}),v())return g(e);var i=b(),r=i&&i.getAttribute("src");return!t.url&&r&&(t.url=r),m(t).then(function(){return g(e)})}var L=(z.prototype.S4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},z.prototype.get_uuid=function(){return this.S4()+this.S4()+"-"+this.S4()+"-"+this.S4()+"-"+this.S4()+"-"+this.S4()+this.S4()+this.S4()},z);function z(){this.uuid=this.get_uuid()}var x=(k.maploaded="maploaded",k.zoomchanged="zoomchanged",k.extentchanged="extentchanged",k.centerchanged="centerchanged",k.blur="blur",k.click="click",k.doubleclick="doubleclick",k.drag="drag",k.focus="focus",k.hold="hold",k.keydown="key-down",k.keyup="key-up",k.mousewheel="mouse-wheel",k.pointerdown="pointer-down",k.pointerenter="pointer-enter",k.pointerleave="pointer-leave",k.pointermove="pointer-move",k.pointerup="pointer-up",k.resize="pointer-up",k.popupvisible="popup-visible",k);function k(){}var C,S,I=(C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),A=function(e,a,n,s){return new(n=n||Promise)(function(i,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}l((s=s.apply(e,a||[])).next())})},R=function(i,r){var o,l,a,e,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,l&&(a=2&t[0]?l.return:t[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,t[1])).done)return a;switch(l=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,l=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(!(a=0<(a=n.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){n=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(6===t[0]&&n.label<a[1]){n.label=a[1],a=t;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(t);break}a[2]&&n.ops.pop(),n.trys.pop();continue}t=r.call(i,n)}catch(e){t=[6,e],l=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},E=(I(_,S=e),_.prototype.add=function(a){var n=this;void 0===a&&(a={}),w(["esri/layers/GraphicsLayer","esri/Graphic","esri/layers/FeatureLayer"]).then(function(e){var t=e[0],o=e[1],i=e[2];if(n.view){var r=null;if(a.boundaryType&&(r=n.view.map.findLayerById(a.boundaryType)),r||a.url&&(r=new i({url:a.url,id:a.boundaryType,title:a.boundaryType,visible:!1}),n.view.map.add(r)),r){var l=r.createQuery();l.where=a.boundaryDefinition,r.queryFeatures(l).then(function(e){if(0<e.features.length){var i,r=n.view.map.findLayerById(n.displayedLayerid);void 0===r&&(r=new t({title:n.displayedLayerid+"边界",id:n.displayedLayerid,listMode:"hide"}),n.view.map.add(r)),i=void 0!==a.symbol?a.symbol:{type:"simple-fill",color:[255,255,255,0],outline:{color:[255,255,0,1],width:"5px"}},e.features.map(function(e){var t=new o({geometry:e.geometry,symbol:i,attributes:e.attributes});r.add(t)})}})}}}).catch(function(e){console.error(e)})},_.prototype.remove=function(){var e=this.view.map.findLayerById(this.displayedLayerid);e&&this.view.map.remove(e)},_.prototype.show=function(){var e=this.view.map.findLayerById(this.displayedLayerid);e&&(e.visible=!0)},_.prototype.hide=function(){var e=this.view.map.findLayerById(this.displayedLayerid);e&&(e.visible=!1)},_.prototype.init=function(t){return A(this,void 0,void 0,function(){var r=this;return R(this,function(e){return this.displayedLayerid=(new L).uuid,this.view=t,this.view.on(x.click,function(i){r.view.hitTest(i).then(function(t){return A(r,void 0,void 0,function(){return R(this,function(e){return 0<t.results.length&&t.results[0].graphic.layer.id===this.displayedLayerid&&this.emit(x.click,t.results[0].graphic,i.mapPoint),[2]})})})}),this.view.on(x.pointermove,function(i){r.view.hitTest(i).then(function(t){return A(r,void 0,void 0,function(){return R(this,function(e){return 0<t.results.length&&t.results[0].graphic.layer.id===this.displayedLayerid&&this.emit(x.pointermove,t.results[0].graphic,i.mapPoint),[2]})})})}),[2]})})},_);function _(e){var t=S.call(this)||this;return t.displayedLayerid="",t.view=null,t.init(e),t}var B,j,P=(B=function(e,t){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}B(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),W=function(e,a,n,s){return new(n=n||Promise)(function(i,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}l((s=s.apply(e,a||[])).next())})},O=function(i,r){var o,l,a,e,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,l&&(a=2&t[0]?l.return:t[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,t[1])).done)return a;switch(l=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,l=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(!(a=0<(a=n.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){n=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(6===t[0]&&n.label<a[1]){n.label=a[1],a=t;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(t);break}a[2]&&n.ops.pop(),n.trys.pop();continue}t=r.call(i,n)}catch(e){t=[6,e],l=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},M=(P(H,j=e),H.prototype.createFeatureGroup=function(h){var b=this,e=this.view.map.findLayerById(this.displayedLayerid);e&&(this.view.map.remove(e),this.mapoverlayersflayer=[]),w(["esri/layers/FeatureLayer","esri/layers/support/LabelClass","esri/Graphic","esri/geometry/Point","esri/symbols/PictureMarkerSymbol"]).then(function(e){var t=e[0],i=e[1],r=e[2],o=e[3];if(e[4],"group"===h.type){var l,a=[{name:"objectId",alias:"objectId",type:"oid"},{name:"uuid",alias:"唯一标识",type:"string"}];if(a.push({name:"style",alias:"样式",type:"string"}),h.datafiled.forEach(function(e){a.push(e)}),"marker"===h.overlaytype.toLowerCase()){h.renderer?l=h.renderer:(l={type:"unique-value",field:"style",uniqueValueInfos:[]},h.style.forEach(function(e){"3d"===b.view.type?l.uniqueValueInfos.push({value:e.style,label:e.style,symbol:{type:"point-3d",symbolLayers:[{type:"icon",size:e.size.height,resource:{href:e.url}}]}}):l.uniqueValueInfos.push({value:e.style,label:e.style,symbol:{type:"picture-marker",url:e.url,width:e.size.height,height:e.size.height}})}));var n=new t({id:b.displayedLayerid,title:b.displayedLayerid,objectIdField:"objectId",geometryType:"point",renderer:l,screenSizePerspectiveEnabled:"3d"===b.view.type,popupEnabled:!1,popupTemplate:!1,fields:a,source:[],spatialReference:b.view.spatialReference});if(h.elevationInfo&&(n.elevationInfo=h.elevationInfo),b.view.map.add(n),h.overlayers.forEach(function(e){if(e.attributes&&e.position){e.attributes.uuid=e.uuid;var t=new r({geometry:new o({x:e.position[0],y:e.position[1],z:void 0===e.position[2]?0:e.position[2],spatialReference:b.view.spatialReference}),attributes:e.attributes});n.source.add(t),b.mapoverlayersflayer.push([h.uuid,e.uuid,t])}}),100<n.source.items.length&&null!=h.frreduction&&(n.featureReduction={type:h.frreduction.type,clusterRadius:h.frreduction.clusterRadius}),h.label.visible){var s=void 0;if(h.label.labelingInfo)s=h.label.labelingInfo,n.labelingInfo=s;else{var u=new i({labelExpressionInfo:{expression:"$feature.NAME"},symbol:s="2d"===b.view.type?{type:h.label.type,text:h.label.text,color:h.label.color,angle:h.label.angle,backgroundColor:h.label.backgroundColor,borderLineColor:h.label.borderLineColor,borderLineSize:h.label.borderLineSize,kerning:h.label.kerning,lineHeight:h.label.lineHeight,lineWidth:h.label.lineWidth,rotated:h.label.rotated,haloColor:h.label.haloColor,haloSize:h.label.haloSize,xoffset:h.label.xoffset,yoffset:h.label.yoffset,verticalAlignment:h.label.verticalAlignment,horizontalAlignment:h.label.horizontalAlignment,font:{size:h.label.size,family:"Josefin Slab",weight:h.label.weight}}:{type:"label-3d",symbolLayers:[{type:"text",material:{color:h.label.color},size:h.label.size,halo:{color:h.label.haloColor,size:h.label.haloSize}}]},labelPlacement:h.label.placement,minScale:h.label.minScale,maxScale:h.label.maxScale});n.labelingInfo=[u]}}}}else if("element"===h.type&&"marker"===h.overlaytype.toLowerCase()){var d=void 0;d=h.renderer?h.renderer:"3d"===b.view.type?{type:"simple",symbol:{type:"point-3d",symbolLayers:[{type:"icon",size:h.icon.size.width,resource:{href:h.icon.image}}]}}:{type:"simple",symbol:{type:"picture-marker",url:h.icon.image,width:h.icon.size.width,height:h.icon.size.height}};var y=[{name:"objectId",alias:"objectId",type:"oid"},{name:"uuid",alias:"唯一标识",type:"string"}];Object.keys(h.attributes).forEach(function(e){y.push({name:e,alias:e,type:"string"})});var p=new t({id:b.displayedLayerid,title:b.displayedLayerid,objectIdField:"objectId",geometryType:"point",renderer:d,screenSizePerspectiveEnabled:!0,popupEnabled:!1,popupTemplate:!1,fields:y,source:[],spatialReference:b.view.spatialReference});if(h.elevationInfo&&(p.elevationInfo=h.elevationInfo),h.position&&h.attributes){var c=h.attributes;c.uuid=h.uuid;var f=new r({geometry:new o({x:h.position[0],y:h.position[1],z:void 0===h.position[2]?0:h.position[2],spatialReference:b.view.spatialReference}),attributes:c});p.source.add(f),b.mapoverlayersflayer.push([h.uuid,h.uuid,f])}b.view.map.add(p),h.label.visible&&(s=void 0,h.label.labelingInfo?(s=h.label.labelingInfo,p.labelingInfo=s):(u=new i({labelExpressionInfo:{expression:"$feature.NAME"},symbol:s="2d"===b.view.type?{type:h.label.type,text:h.label.text,color:h.label.color,angle:h.label.angle,backgroundColor:h.label.backgroundColor,borderLineColor:h.label.borderLineColor,borderLineSize:h.label.borderLineSize,kerning:h.label.kerning,lineHeight:h.label.lineHeight,lineWidth:h.label.lineWidth,rotated:h.label.rotated,haloColor:h.label.haloColor,haloSize:h.label.haloSize,xoffset:h.label.xoffset,yoffset:h.label.yoffset,verticalAlignment:h.label.verticalAlignment,horizontalAlignment:h.label.horizontalAlignment,font:{size:h.label.size,family:"Josefin Slab",weight:h.label.weight}}:{type:"label-3d",symbolLayers:[{type:"text",material:{color:h.label.color},size:h.label.size,halo:{color:h.label.haloColor,size:h.label.haloSize}}]},labelPlacement:h.label.placement,minScale:h.label.minScale,maxScale:h.label.maxScale}),p.labelingInfo=[u]))}})},H.prototype.addfeature=function(n){var s=this;w(["esri/layers/FeatureLayer","esri/layers/support/LabelClass","esri/Graphic","esri/geometry/Point","esri/symbols/PictureMarkerSymbol"]).then(function(e){e[0],e[1];var r=e[2],o=e[3],t=(e[4],s.view.map.findLayerById(s.displayedLayerid));if(t)if(n instanceof Array){var l=[];n.forEach(function(e){if("marker"===e.overlaytype.toLowerCase()){var t=e.attributes;t.uuid=e.uuid;var i=new r({geometry:new o({x:e.position[0],y:e.position[1],z:void 0===e.position[2]?0:e.position[2],spatialReference:s.view.spatialReference}),attributes:t});l.push(i),s.mapoverlayersflayer.push([e.uuid,e.uuid,i])}}),t.applyEdits({addFeatures:l}).then(function(e){})}else if("marker"===n.overlaytype.toLowerCase()){var i=n.attributes;i.uuid=n.uuid;var a=new r({geometry:new o({x:n.position[0],y:n.position[1],z:void 0===n.position[2]?0:n.position[2],spatialReference:s.view.spatialReference}),attributes:i});t.applyEdits({addFeatures:[a]}).then(function(e){}),s.mapoverlayersflayer.push([n.uuid,n.uuid,a])}})},H.prototype.updatefeature=function(a){var n=this;w(["esri/layers/FeatureLayer","esri/layers/support/LabelClass","esri/Graphic","esri/geometry/Point","esri/symbols/PictureMarkerSymbol","esri/geometry/Polyline","esri/geometry/Polygon"]).then(function(e){e[0],e[1],e[2];var o=e[3];if(e[4],e[5],e[6],n.view.map.findLayerById(n.displayedLayerid))if(a instanceof Array){var r=[];a.forEach(function(t){var i=n.mapoverlayersflayer.filter(function(e){return e[1]===t.uuid});if(1===i.length){var e=new o({x:t.position[0],y:t.position[1],z:void 0===t.position[2]?0:t.position[2],spatialReference:n.view.spatialReference});i[0][2].geometry=e,Object.keys(t.attributes).map(function(e){"objectId"!==e&&i[0][2].setAttribute(e,t.attributes[e])}),r.push(i[0][2])}}),(t=n.view.map.findLayerById(n.displayedLayerid))&&r.length&&t.applyEdits({updateFeatures:r}).then(function(e){})}else if("group"===a.type){var t,l=[];a.overlayers.forEach(function(t){var i=n.mapoverlayersflayer.filter(function(e){return e[1]===t.uuid});if(1===i.length){var e=new o({x:t.position[0],y:t.position[1],z:void 0===t.position[2]?0:t.position[2],spatialReference:n.view.spatialReference});i[0][2].geometry=e,Object.keys(t.attributes).map(function(e){"objectId"!==e&&i[0][2].setAttribute(e,t.attributes[e])}),l.push(i[0][2])}}),(t=n.view.map.findLayerById(n.displayedLayerid))&&l.length&&t.applyEdits({updateFeatures:l}).then(function(e){})}else"element"===a.type&&n.mapoverlayersflayer.filter(function(e){return e[1]===a.uuid}).forEach(function(t){var e=[];a.attributes.uuid=a.uuid;var i=new o({x:a.position[0],y:a.position[1],z:void 0===a.position[2]?0:a.position[2],spatialReference:n.view.spatialReference});t[2].geometry=i,Object.keys(a.attributes).map(function(e){"objectId"!==e&&t[2].setAttribute(e,a.attributes[e])}),e.push(t[2]);var r=n.view.map.findLayerById(n.displayedLayerid);r&&e.length&&r.applyEdits({updateFeatures:e}).then(function(e){})})})},H.prototype.removefeature=function(t){var e=this;if(this.view.map.findLayerById(this.displayedLayerid))if(t instanceof Array){var i=[];t.forEach(function(t){e.mapoverlayersflayer.filter(function(e){return e[1]===t.uuid}).forEach(function(e){i.push(e[2])}),e.mapoverlayersflayer=e.mapoverlayersflayer.filter(function(e){return e[1]!==t.uuid})}),(l=this.view.map.findLayerById(this.displayedLayerid))&&i.length&&l.applyEdits({deleteFeatures:i}).then(function(e){})}else if("group"===t.type){var r=this.mapoverlayersflayer.filter(function(e){return e[0]===t.uuid}),o=[];r.forEach(function(e){o.push(e[2])}),(l=this.view.map.findLayerById(this.displayedLayerid))&&o.length&&l.applyEdits({deleteFeatures:o}).then(function(e){}),this.mapoverlayersflayer=this.mapoverlayersflayer.filter(function(e){return e[0]!==t.uuid})}else if("element"===t.type){r=this.mapoverlayersflayer.filter(function(e){return e[1]===t.uuid});var l,a=[];r.forEach(function(e){a.push(e[2])}),(l=this.view.map.findLayerById(this.displayedLayerid))&&a.length&&l.applyEdits({deleteFeatures:a}).then(function(e){}),this.mapoverlayersflayer=this.mapoverlayersflayer.filter(function(e){return e[1]!==t.uuid})}},H.prototype.removeAll=function(){var t=this,e=this.view.map.findLayerById(this.displayedLayerid);if(e){var i=[];this.mapoverlayersflayer.forEach(function(e){i.push(e[2])}),e.applyEdits({deleteFeatures:i}).then(function(e){t.mapoverlayersflayer=[]})}},H.prototype.delete=function(){var e=this.view.map.findLayerById(this.displayedLayerid);e&&(this.view.map.remove(e),this.mapoverlayersflayer=[])},H.prototype.init=function(i){return W(this,void 0,void 0,function(){var t=this;return O(this,function(e){return this.displayedLayerid=(new L).uuid,this.view=i,this.view.on(x.click,function(l){t.view.hitTest(l).then(function(o){return W(t,void 0,void 0,function(){var t,i,r=this;return O(this,function(e){return 0<o.results.length&&o.results[0].graphic.layer.id===this.displayedLayerid&&(t=o.results[0].graphic.attributes.objectId,(i=o.results[0].graphic.layer.createQuery()).where="objectId ="+t,o.results[0].graphic.layer.queryFeatures(i).then(function(e){0<e.features.length&&r.emit(x.click,e.features,l.mapPoint)})),[2]})})})}),this.view.on(x.pointermove,function(l){t.view.hitTest(l).then(function(o){return W(t,void 0,void 0,function(){var t,i,r=this;return O(this,function(e){return 0<o.results.length&&o.results[0].graphic.layer.id===this.displayedLayerid&&(t=o.results[0].graphic.attributes.objectId,(i=o.results[0].graphic.layer.createQuery()).where="objectId ="+t,o.results[0].graphic.layer.queryFeatures(i).then(function(e){0<e.features.length&&r.emit(x.pointermove,e.features,r.view.toMap({x:l.x,y:l.y}))})),[2]})})})}),[2]})})},H);function H(e){var t=j.call(this)||this;return t.displayedLayerid="",t.view=null,t.mapoverlayersflayer=[],t.init(e),t}var T,G,J=(T=function(e,t){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),F=function(e,a,n,s){return new(n=n||Promise)(function(i,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}l((s=s.apply(e,a||[])).next())})},Z=function(i,r){var o,l,a,e,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,l&&(a=2&t[0]?l.return:t[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,t[1])).done)return a;switch(l=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,l=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(!(a=0<(a=n.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){n=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(6===t[0]&&n.label<a[1]){n.label=a[1],a=t;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(t);break}a[2]&&n.ops.pop(),n.trys.pop();continue}t=r.call(i,n)}catch(e){t=[6,e],l=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},q=(J(D,G=e),D.prototype.add=function(o){var l=this;w(["smiapi/utils/FlashPoint3DLayer","esri/geometry/Point","esri/views/3d/externalRenderers"]).then(function(e){var t=e[0],i=e[1],r=e[2];l.falshpoint3DRenderer=new t({nring:o.nring,spead:o.spead,color:o.color,view:o.view,points:o.points},function(e){var t=null;null!=e&&(t=new i({x:e.x,y:e.y,spatialReference:{wkid:102100}})),l.emit(x.click,e,t)},function(e){var t=null;null!=e&&(t=new i({x:e.x,y:e.y,spatialReference:{wkid:102100}})),l.emit(x.pointermove,e,t)}),r.add(l.view,l.falshpoint3DRenderer)})},D.prototype.remove=function(){var t=this;w(["esri/views/3d/externalRenderers"]).then(function(e){e[0].remove(t.view,t.falshpoint3DRenderer)})},D.prototype.init=function(t){return F(this,void 0,void 0,function(){return Z(this,function(e){return this.view=t,[2]})})},D);function D(e){var t=G.call(this)||this;return t.view=null,t.falshpoint3DRenderer=null,t.init(e),t}var X,Y,N=(X=function(e,t){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}X(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),V=function(e,a,n,s){return new(n=n||Promise)(function(i,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}l((s=s.apply(e,a||[])).next())})},Q=function(i,r){var o,l,a,e,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,l&&(a=2&t[0]?l.return:t[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,t[1])).done)return a;switch(l=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,l=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(!(a=0<(a=n.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){n=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(6===t[0]&&n.label<a[1]){n.label=a[1],a=t;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(t);break}a[2]&&n.ops.pop(),n.trys.pop();continue}t=r.call(i,n)}catch(e){t=[6,e],l=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},U=(N($,Y=e),$.prototype.add=function(C){var S=this;w(["esri/Graphic","esri/geometry/Point","esri/layers/GraphicsLayer","esri/symbols/PictureMarkerSymbol","esri/geometry/Polyline","esri/geometry/Polygon"]).then(function(e){var w=e[0],L=e[1],t=e[2],z=(e[3],e[4]),x=e[5],i=S.view.map.findLayerById(S.displayedLayerid);if(i||(i=new t({id:S.displayedLayerid,title:S.displayedLayerid}),S.view.map.add(i)),C instanceof Array)C.forEach(function(e){if("marker"===e.overlaytype.toLowerCase()){var t=void 0;t=e.symbol?e.symbol:"2d"===S.view.type?{type:"picture-marker",url:e.icon.image,width:e.icon.size.width,height:e.icon.size.height}:{type:"point-3d",symbolLayers:[{type:"icon",size:e.icon.size.width,resource:{href:e.icon.image}}]};var i=e.attributes;i.uuid=e.uuid;var r=new w({geometry:new L({x:e.position[0],y:e.position[1],z:void 0===e.position[2]?0:e.position[2],spatialReference:S.view.spatialReference}),symbol:t,attributes:i});if(S.mapoverlayers.push(["smap-default",e.uuid,r]),(b=S.view.map.findLayerById(S.displayedLayerid))&&b.add(r),e.label.visible){var o=null;o=e.label.labelingInfo?e.label.labelingInfo:{type:e.label.type,text:e.label.text,color:e.label.color,angle:e.label.angle,backgroundColor:e.label.backgroundColor,borderLineColor:e.label.borderLineColor,borderLineSize:e.label.borderLineSize,kerning:e.label.kerning,lineHeight:e.label.lineHeight,lineWidth:e.label.lineWidth,rotated:e.label.rotated,haloColor:e.label.haloColor,haloSize:e.label.haloSize,xoffset:e.label.xoffset,yoffset:e.label.yoffset,verticalAlignment:e.label.verticalAlignment,horizontalAlignment:e.label.horizontalAlignment,font:{size:e.label.size,family:"Josefin Slab",weight:e.label.weight}};var l=new w({geometry:new L({x:"3d"===S.view.type?e.position[0]+e.label.xoffset:e.position[0],y:"3d"===S.view.type?e.position[1]+e.label.yoffset:e.position[1],z:"3d"===S.view.type?e.position[2]+e.label.zoffset:e.position[2],spatialReference:S.view.spatialReference}),symbol:o,attributes:i});(m=S.view.map.findLayerById(S.displayedLayerid))&&m.add(l),S.mapoverlayers.push(["smap-default",e.uuid,l])}}else if("polyline"===e.overlaytype.toLowerCase()){var a=null;a=e.symbol?e.symbol:{type:"simple-line",color:e.strokeColor,style:e.style,width:e.width,cap:e.cap,join:e.lineJoin};var n=[];e.path.forEach(function(e){n.push([e.X,e.Y,e.Z])});var s=new z({hasZ:!1,hasM:!1,paths:n,spatialReference:S.view.spatialReference}),u=e.attributes;u.uuid=e.uuid;var d=new w({geometry:s,symbol:a,attributes:u});if(S.mapoverlayers.push(["smap-default",e.uuid,d]),(b=S.view.map.findLayerById(S.displayedLayerid))&&b.add(d),e.label.visible){var y=null;y=e.label.labelingInfo?e.label.labelingInfo:{type:e.label.type,text:e.label.text,color:e.label.color,angle:e.label.angle,backgroundColor:e.label.backgroundColor,borderLineColor:e.label.borderLineColor,borderLineSize:e.label.borderLineSize,kerning:e.label.kerning,lineHeight:e.label.lineHeight,lineWidth:e.label.lineWidth,rotated:e.label.rotated,haloColor:e.label.haloColor,haloSize:e.label.haloSize,xoffset:e.label.xoffset,yoffset:e.label.yoffset,verticalAlignment:e.label.verticalAlignment,horizontalAlignment:e.label.horizontalAlignment,font:{size:e.label.size,family:"Josefin Slab",weight:e.label.weight}},l=new w({geometry:d.geometry.extent.center,symbol:y,attributes:u}),(m=S.view.map.findLayerById(S.displayedLayerid))&&m.add(l),S.mapoverlayers.push(["smap-default",e.uuid,l])}}else if("polygon"===e.overlaytype.toLowerCase()){var p=void 0;p=e.symbol?e.symbol:"simple"===e.symboltype?{type:"simple-fill",color:e.fillColor,style:e.style,outline:{color:e.strokeColor,width:e.strokeWeight,style:e.strokestyle}}:{type:"picture-fill",url:e.url,width:e.picwidth,height:e.picheight,outline:{style:e.strokestyle,color:e.strokeColor,width:e.strokeWeight}};var c=[];e.paths.forEach(function(e){c.push([e.X,e.Y,e.Z])});var f=new x({hasZ:!0,hasM:!0,rings:c,spatialReference:S.view.spatialReference}),h=e.attributes;h.uuid=e.uuid;var b,v=new w({geometry:f,symbol:p,attributes:h});if(S.mapoverlayers.push(["smap-default",e.uuid,v]),(b=S.view.map.findLayerById(S.displayedLayerid))&&b.add(v),e.label.visible){var m,g=null;g=e.label.labelingInfo?e.label.labelingInfo:{type:e.label.type,text:e.label.text,color:e.label.color,angle:e.label.angle,backgroundColor:e.label.backgroundColor,borderLineColor:e.label.borderLineColor,borderLineSize:e.label.borderLineSize,kerning:e.label.kerning,lineHeight:e.label.lineHeight,lineWidth:e.label.lineWidth,rotated:e.label.rotated,haloColor:e.label.haloColor,haloSize:e.label.haloSize,xoffset:e.label.xoffset,yoffset:e.label.yoffset,verticalAlignment:e.label.verticalAlignment,horizontalAlignment:e.label.horizontalAlignment,font:{size:e.label.size,family:"Josefin Slab",weight:e.label.weight}},l=new w({geometry:v.geometry.extent.center,symbol:g,attributes:h}),(m=S.view.map.findLayerById(S.displayedLayerid))&&m.add(l),S.mapoverlayers.push(["smap-default",e.uuid,l])}}});else if("group"===C.type)C.overlayers.forEach(function(e){if("marker"===e.overlaytype.toLowerCase()){var t=void 0;t=e.symbol?e.symbol:"2d"===S.view.type?{type:"picture-marker",url:e.icon.image,width:e.icon.size.width,height:e.icon.size.height}:{type:"point-3d",symbolLayers:[{type:"icon",size:e.icon.size.width,resource:{href:e.icon.image}}]};var i=e.attributes;i.uuid=e.uuid;var r=new w({geometry:new L({x:e.position[0],y:e.position[1],z:void 0===e.position[2]?0:e.position[2],spatialReference:S.view.spatialReference}),symbol:t,attributes:i});if(S.mapoverlayers.push([C.uuid,e.uuid,r]),(h=S.view.map.findLayerById(S.displayedLayerid))&&h.add(r),e.label.visible){var o=null;o=e.label.labelingInfo?e.label.labelingInfo:{type:e.label.type,text:e.label.text,color:e.label.color,angle:e.label.angle,backgroundColor:e.label.backgroundColor,borderLineColor:e.label.borderLineColor,borderLineSize:e.label.borderLineSize,kerning:e.label.kerning,lineHeight:e.label.lineHeight,lineWidth:e.label.lineWidth,rotated:e.label.rotated,haloColor:e.label.haloColor,haloSize:e.label.haloSize,xoffset:e.label.xoffset,yoffset:e.label.yoffset,verticalAlignment:e.label.verticalAlignment,horizontalAlignment:e.label.horizontalAlignment,font:{size:e.label.size,family:"Josefin Slab",weight:e.label.weight}};var l=new w({geometry:new L({x:"3d"===S.view.type?e.position[0]+e.label.xoffset:e.position[0],y:"3d"===S.view.type?e.position[1]+e.label.yoffset:e.position[1],z:"3d"===S.view.type?e.position[2]+e.label.zoffset:e.position[2],spatialReference:S.view.spatialReference}),symbol:o,attributes:i});(m=S.view.map.findLayerById(S.displayedLayerid))&&m.add(l),S.mapoverlayers.push([C.uuid,e.uuid,l])}}else if("polyline"===e.overlaytype.toLowerCase()){var a=null;a=e.symbol?e.symbol:{type:"simple-line",color:e.strokeColor,style:e.style,width:e.width,cap:e.cap,join:e.lineJoin};var n=[];e.path.forEach(function(e){n.push([e.X,e.Y,e.Z])});var s=new z({hasZ:!1,hasM:!1,paths:n,spatialReference:S.view.spatialReference}),u=e.attributes;u.uuid=e.uuid;var d=new w({geometry:s,symbol:a,attributes:u});if(S.mapoverlayers.push([C.uuid,e.uuid,d]),(m=S.view.map.findLayerById(S.displayedLayerid))&&m.add(d),e.label.visible){var y=null;y=e.label.labelingInfo?e.label.labelingInfo:{type:e.label.type,text:e.label.text,color:e.label.color,angle:e.label.angle,backgroundColor:e.label.backgroundColor,borderLineColor:e.label.borderLineColor,borderLineSize:e.label.borderLineSize,kerning:e.label.kerning,lineHeight:e.label.lineHeight,lineWidth:e.label.lineWidth,rotated:e.label.rotated,haloColor:e.label.haloColor,haloSize:e.label.haloSize,xoffset:e.label.xoffset,yoffset:e.label.yoffset,verticalAlignment:e.label.verticalAlignment,horizontalAlignment:e.label.horizontalAlignment,font:{size:e.label.size,family:"Josefin Slab",weight:e.label.weight}},l=new w({geometry:d.geometry.extent.center,symbol:y,attributes:u}),(h=S.view.map.findLayerById(S.displayedLayerid))&&h.add(l),S.mapoverlayers.push([C.uuid,e.uuid,l])}}else if("polygon"===e.overlaytype.toLowerCase()){var p=void 0;p=e.symbol?e.symbol:"simple"===e.symboltype?{type:"simple-fill",color:e.fillColor,style:e.style,outline:{color:e.strokeColor,width:e.strokeWeight,style:e.strokestyle}}:{type:"picture-fill",url:e.url,width:e.picwidth,height:e.picheight,outline:{style:e.strokestyle,color:e.strokeColor,width:e.strokeWeight}};var c=[];e.paths.forEach(function(e){c.push([e.X,e.Y,e.Z])});var f=e.attributes;f.uuid=e.uuid;var h,b=new x({hasZ:!0,hasM:!0,rings:c,spatialReference:S.view.spatialReference}),v=new w({geometry:b,symbol:p,attributes:f});if(S.mapoverlayers.push([C.uuid,e.uuid,v]),(h=S.view.map.findLayerById(S.displayedLayerid))&&h.add(v),e.label.visible){var m,g=null;g=e.label.labelingInfo?e.label.labelingInfo:{type:e.label.type,text:e.label.text,color:e.label.color,angle:e.label.angle,backgroundColor:e.label.backgroundColor,borderLineColor:e.label.borderLineColor,borderLineSize:e.label.borderLineSize,kerning:e.label.kerning,lineHeight:e.label.lineHeight,lineWidth:e.label.lineWidth,rotated:e.label.rotated,haloColor:e.label.haloColor,haloSize:e.label.haloSize,xoffset:e.label.xoffset,yoffset:e.label.yoffset,verticalAlignment:e.label.verticalAlignment,horizontalAlignment:e.label.horizontalAlignment,font:{size:e.label.size,family:"Josefin Slab",weight:e.label.weight}},l=new w({geometry:v.geometry.extent.center,symbol:g,attributes:f}),(m=S.view.map.findLayerById(S.displayedLayerid))&&m.add(l),S.mapoverlayers.push([C.uuid,e.uuid,l])}}});else if("element"===C.type)if("marker"===C.overlaytype.toLowerCase()){var r=void 0;r=C.symbol?C.symbol:"2d"===S.view.type?{type:"picture-marker",url:C.icon.image,width:C.icon.size.width,height:C.icon.size.height}:{type:"point-3d",symbolLayers:[{type:"icon",size:C.icon.size.width,resource:{href:C.icon.image}}]};var o=C.attributes;o.uuid=C.uuid;var l=new w({geometry:new L({x:C.position[0],y:C.position[1],z:void 0===C.position[2]?0:C.position[2],spatialReference:S.view.spatialReference}),symbol:r,attributes:o});if(S.mapoverlayers.push(["smap-default",C.uuid,l]),(v=S.view.map.findLayerById(S.displayedLayerid))&&v.add(l),C.label.visible){var a=null;a=C.label.labelingInfo?C.label.labelingInfo:{type:C.label.type,text:C.label.text,color:C.label.color,angle:C.label.angle,backgroundColor:C.label.backgroundColor,borderLineColor:C.label.borderLineColor,borderLineSize:C.label.borderLineSize,kerning:C.label.kerning,lineHeight:C.label.lineHeight,lineWidth:C.label.lineWidth,rotated:C.label.rotated,haloColor:C.label.haloColor,haloSize:C.label.haloSize,xoffset:C.label.xoffset,yoffset:C.label.yoffset,verticalAlignment:C.label.verticalAlignment,horizontalAlignment:C.label.horizontalAlignment,font:{size:C.label.size,family:"Josefin Slab",weight:C.label.weight}};var n=new w({geometry:new L({x:"3d"===S.view.type?C.position[0]+C.label.xoffset:C.position[0],y:"3d"===S.view.type?C.position[1]+C.label.yoffset:C.position[1],z:"3d"===S.view.type?C.position[2]+C.label.zoffset:C.position[2],spatialReference:S.view.spatialReference}),symbol:a,attributes:o});(m=S.view.map.findLayerById(S.displayedLayerid))&&m.add(n),S.mapoverlayers.push(["smap-default",C.uuid,n])}}else if("polyline"===C.overlaytype.toLowerCase()){var s=null;s=C.symbol?C.symbol:{type:"simple-line",color:C.strokeColor,style:C.style,width:C.width,cap:C.cap,join:C.lineJoin};var u=[];C.path.forEach(function(e){u.push([e.X,e.Y,e.Z])});var d=new z({hasZ:!1,hasM:!1,paths:u,spatialReference:S.view.spatialReference}),y=C.attributes;y.uuid=C.uuid;var p=new w({geometry:d,symbol:s,attributes:y});if(S.mapoverlayers.push(["smap-default",C.uuid,p]),(m=S.view.map.findLayerById(S.displayedLayerid))&&m.add(p),C.label.visible){var c=null;c=C.label.labelingInfo?C.label.labelingInfo:{type:C.label.type,text:C.label.text,color:C.label.color,angle:C.label.angle,backgroundColor:C.label.backgroundColor,borderLineColor:C.label.borderLineColor,borderLineSize:C.label.borderLineSize,kerning:C.label.kerning,lineHeight:C.label.lineHeight,lineWidth:C.label.lineWidth,rotated:C.label.rotated,haloColor:C.label.haloColor,haloSize:C.label.haloSize,xoffset:C.label.xoffset,yoffset:C.label.yoffset,verticalAlignment:C.label.verticalAlignment,horizontalAlignment:C.label.horizontalAlignment,font:{size:C.label.size,family:"Josefin Slab",weight:C.label.weight}},n=new w({geometry:p.geometry.extent.center,symbol:c,attributes:y}),(v=S.view.map.findLayerById(S.displayedLayerid))&&v.add(n),S.mapoverlayers.push(["smap-default",C.uuid,n])}}else if("polygon"===C.overlaytype.toLowerCase()){var f=void 0;f=C.symbol?C.symbol:"simple"===C.symboltype?{type:"simple-fill",color:C.fillColor,style:C.style,outline:{color:C.strokeColor,width:C.strokeWeight,style:C.strokestyle}}:{type:"picture-fill",url:C.url,width:C.picwidth,height:C.picheight,outline:{style:C.strokestyle,color:C.strokeColor,width:C.strokeWeight}};var h=[];C.paths.forEach(function(e){h.push([e.X,e.Y,e.Z])});var b=C.attributes;b.uuid=C.uuid;var v,m,g=new x({hasZ:!0,hasM:!0,rings:h,spatialReference:S.view.spatialReference}),k=new w({geometry:g,symbol:f,attributes:b});if(S.mapoverlayers.push(["smap-default",C.uuid,k]),(v=S.view.map.findLayerById(S.displayedLayerid))&&v.add(k),C.label.visible)c=null,c=C.label.labelingInfo?C.label.labelingInfo:{type:C.label.type,text:C.label.text,color:C.label.color,angle:C.label.angle,backgroundColor:C.label.backgroundColor,borderLineColor:C.label.borderLineColor,borderLineSize:C.label.borderLineSize,kerning:C.label.kerning,lineHeight:C.label.lineHeight,lineWidth:C.label.lineWidth,rotated:C.label.rotated,haloColor:C.label.haloColor,haloSize:C.label.haloSize,xoffset:C.label.xoffset,yoffset:C.label.yoffset,verticalAlignment:C.label.verticalAlignment,horizontalAlignment:C.label.horizontalAlignment,font:{size:C.label.size,family:"Josefin Slab",weight:C.label.weight}},n=new w({geometry:k.geometry.extent.center,symbol:c,attributes:b}),(m=S.view.map.findLayerById(S.displayedLayerid))&&m.add(n),S.mapoverlayers.push(["smap-default",C.uuid,n])}}).catch(function(e){console.error(e)})},$.prototype.remove=function(t){var i=this;t instanceof Array?t.forEach(function(t){i.mapoverlayers.filter(function(e){return e[1]===t.uuid}).forEach(function(e){var t=i.view.map.findLayerById(i.displayedLayerid);t&&t.remove(e[2])}),i.mapoverlayers=i.mapoverlayers.filter(function(e){return e[1]!==t.uuid})}):"group"===t.type?(this.mapoverlayers.filter(function(e){return e[0]===t.uuid}).forEach(function(e){var t=i.view.map.findLayerById(i.displayedLayerid);t&&t.remove(e[2])}),this.mapoverlayers=this.mapoverlayers.filter(function(e){return e[0]!==t.uuid})):"element"===t.type&&(this.mapoverlayers.filter(function(e){return e[1]===t.uuid}).forEach(function(e){var t=i.view.map.findLayerById(i.displayedLayerid);t&&t.remove(e[2])}),this.mapoverlayers=this.mapoverlayers.filter(function(e){return e[1]!==t.uuid}))},$.prototype.update=function(k){var C=this;w(["esri/Graphic","esri/geometry/Point","esri/symbols/PictureMarkerSymbol","esri/geometry/Polyline","esri/geometry/Polygon"]).then(function(e){var w=e[0],L=e[1],z=(e[2],e[3]),x=e[4];if(k instanceof Array)k.forEach(function(t){if(C.mapoverlayers.filter(function(e){return e[1]===t.uuid}).forEach(function(e){var t=C.view.map.findLayerById(C.displayedLayerid);t&&t.remove(e[2])}),C.mapoverlayers=C.mapoverlayers.filter(function(e){return e[1]!==t.uuid}),"marker"===t.overlaytype.toLowerCase()){var e=void 0;e=t.symbol?t.symbol:"2d"===C.view.type?{type:"picture-marker",url:t.icon.image,width:t.icon.size.width,height:t.icon.size.height}:{type:"point-3d",symbolLayers:[{type:"icon",size:t.icon.size.width,resource:{href:t.icon.image}}]};var i=t.attributes;i.uuid=t.uuid;var r=new w({geometry:new L({x:t.position[0],y:t.position[1],z:void 0===t.position[2]?0:t.position[2],spatialReference:C.view.spatialReference}),symbol:e,attributes:i});if(C.mapoverlayers.push(["smap-default",t.uuid,r]),(b=C.view.map.findLayerById(C.displayedLayerid))&&b.add(r),t.label.visible){var o=null;o=t.label.labelingInfo?t.label.labelingInfo:{type:t.label.type,text:t.label.text,color:t.label.color,angle:t.label.angle,backgroundColor:t.label.backgroundColor,borderLineColor:t.label.borderLineColor,borderLineSize:t.label.borderLineSize,kerning:t.label.kerning,lineHeight:t.label.lineHeight,lineWidth:t.label.lineWidth,rotated:t.label.rotated,haloColor:t.label.haloColor,haloSize:t.label.haloSize,xoffset:t.label.xoffset,yoffset:t.label.yoffset,verticalAlignment:t.label.verticalAlignment,horizontalAlignment:t.label.horizontalAlignment,font:{size:t.label.size,family:"Josefin Slab",weight:t.label.weight}};var l=new w({geometry:new L({x:"3d"===C.view.type?t.position[0]+t.label.xoffset:t.position[0],y:"3d"===C.view.type?t.position[1]+t.label.yoffset:t.position[1],z:"3d"===C.view.type?t.position[2]+t.label.zoffset:t.position[2],spatialReference:C.view.spatialReference}),symbol:o,attributes:i});(m=C.view.map.findLayerById(C.displayedLayerid))&&m.add(l),C.mapoverlayers.push(["smap-default",t.uuid,l])}}else if("polyline"===t.overlaytype.toLowerCase()){var a=null;a=t.symbol?t.symbol:{type:"simple-line",color:t.strokeColor,style:t.style,width:t.width,cap:t.cap,join:t.lineJoin};var n=[];t.path.forEach(function(e){n.push([e.X,e.Y,e.Z])});var s=new z({hasZ:!1,hasM:!1,paths:n,spatialReference:C.view.spatialReference}),u=t.attributes;u.uuid=t.uuid;var d=new w({geometry:s,symbol:a,attributes:u});if(C.mapoverlayers.push(["smap-default",t.uuid,d]),(m=C.view.map.findLayerById(C.displayedLayerid))&&m.add(d),t.label.visible){var y=null;y=t.label.labelingInfo?t.label.labelingInfo:{type:t.label.type,text:t.label.text,color:t.label.color,angle:t.label.angle,backgroundColor:t.label.backgroundColor,borderLineColor:t.label.borderLineColor,borderLineSize:t.label.borderLineSize,kerning:t.label.kerning,lineHeight:t.label.lineHeight,lineWidth:t.label.lineWidth,rotated:t.label.rotated,haloColor:t.label.haloColor,haloSize:t.label.haloSize,xoffset:t.label.xoffset,yoffset:t.label.yoffset,verticalAlignment:t.label.verticalAlignment,horizontalAlignment:t.label.horizontalAlignment,font:{size:t.label.size,family:"Josefin Slab",weight:t.label.weight}},l=new w({geometry:d.geometry.extent.center,symbol:y,attributes:u}),(b=C.view.map.findLayerById(C.displayedLayerid))&&b.add(l),C.mapoverlayers.push(["smap-default",t.uuid,l])}}else if("polygon"===t.overlaytype.toLowerCase()){var p=void 0;p=t.symbol?t.symbol:"simple"===t.symboltype?{type:"simple-fill",color:t.fillColor,style:t.style,outline:{color:t.strokeColor,width:t.strokeWeight,style:t.strokestyle}}:{type:"picture-fill",url:t.url,width:t.picwidth,height:t.picheight,outline:{style:t.strokestyle,color:t.strokeColor,width:t.strokeWeight}};var c=[];t.paths.forEach(function(e){c.push([e.X,e.Y,e.Z])});var f=new x({hasZ:!0,hasM:!0,rings:c,spatialReference:C.view.spatialReference}),h=t.attributes;h.uuid=t.uuid;var b,v=new w({geometry:f,symbol:p,attributes:h});if(C.mapoverlayers.push(["smap-default",t.uuid,v]),(b=C.view.map.findLayerById(C.displayedLayerid))&&b.add(v),t.label.visible){var m,g=null;g=t.label.labelingInfo?t.label.labelingInfo:{type:t.label.type,text:t.label.text,color:t.label.color,angle:t.label.angle,backgroundColor:t.label.backgroundColor,borderLineColor:t.label.borderLineColor,borderLineSize:t.label.borderLineSize,kerning:t.label.kerning,lineHeight:t.label.lineHeight,lineWidth:t.label.lineWidth,rotated:t.label.rotated,haloColor:t.label.haloColor,haloSize:t.label.haloSize,xoffset:t.label.xoffset,yoffset:t.label.yoffset,verticalAlignment:t.label.verticalAlignment,horizontalAlignment:t.label.horizontalAlignment,font:{size:t.label.size,family:"Josefin Slab",weight:t.label.weight}},l=new w({geometry:v.geometry.extent.center,symbol:g,attributes:h}),(m=C.view.map.findLayerById(C.displayedLayerid))&&m.add(l),C.mapoverlayers.push(["smap-default",t.uuid,l])}}});else if("group"===k.type)C.mapoverlayers.filter(function(e){return e[0]===k.uuid}).forEach(function(e){var t=C.view.map.findLayerById(C.displayedLayerid);t&&t.remove(e[2])}),C.mapoverlayers=C.mapoverlayers.filter(function(e){return e[0]!==k.uuid}),k.overlayers.forEach(function(e){if("marker"===e.overlaytype.toLowerCase()){var t=void 0;t=e.symbol?e.symbol:"2d"===C.view.type?{type:"picture-marker",url:e.icon.image,width:e.icon.size.width,height:e.icon.size.height}:{type:"point-3d",symbolLayers:[{type:"icon",size:e.icon.size.width,resource:{href:e.icon.image}}]};var i=e.attributes;i.uuid=e.uuid;var r=new w({geometry:new L({x:e.position[0],y:e.position[1],z:void 0===e.position[2]?0:e.position[2],spatialReference:C.view.spatialReference}),symbol:t,attributes:i});if(C.mapoverlayers.push([k.uuid,e.uuid,r]),(h=C.view.map.findLayerById(C.displayedLayerid))&&h.add(r),e.label.visible){var o=null;o=e.label.labelingInfo?e.label.labelingInfo:{type:e.label.type,text:e.label.text,color:e.label.color,angle:e.label.angle,backgroundColor:e.label.backgroundColor,borderLineColor:e.label.borderLineColor,borderLineSize:e.label.borderLineSize,kerning:e.label.kerning,lineHeight:e.label.lineHeight,lineWidth:e.label.lineWidth,rotated:e.label.rotated,haloColor:e.label.haloColor,haloSize:e.label.haloSize,xoffset:e.label.xoffset,yoffset:e.label.yoffset,verticalAlignment:e.label.verticalAlignment,horizontalAlignment:e.label.horizontalAlignment,font:{size:e.label.size,family:"Josefin Slab",weight:e.label.weight}};var l=new w({geometry:new L({x:"3d"===C.view.type?e.position[0]+e.label.xoffset:e.position[0],y:"3d"===C.view.type?e.position[1]+e.label.yoffset:e.position[1],z:"3d"===C.view.type?e.position[2]+e.label.zoffset:e.position[2],spatialReference:C.view.spatialReference}),symbol:o,attributes:i});(m=C.view.map.findLayerById(C.displayedLayerid))&&m.add(l),C.mapoverlayers.push([k.uuid,e.uuid,l])}}else if("polyline"===e.overlaytype.toLowerCase()){var a=null;a=e.symbol?e.symbol:{type:"simple-line",color:e.strokeColor,style:e.style,width:e.width,cap:e.cap,join:e.lineJoin};var n=[];e.path.forEach(function(e){n.push([e.X,e.Y,e.Z])});var s=new z({hasZ:!1,hasM:!1,paths:n,spatialReference:C.view.spatialReference}),u=e.attributes;u.uuid=e.uuid;var d=new w({geometry:s,symbol:a,attributes:u});if(C.mapoverlayers.push([k.uuid,e.uuid,d]),(m=C.view.map.findLayerById(C.displayedLayerid))&&m.add(d),e.label.visible){var y=null;y=e.label.labelingInfo?e.label.labelingInfo:{type:e.label.type,text:e.label.text,color:e.label.color,angle:e.label.angle,backgroundColor:e.label.backgroundColor,borderLineColor:e.label.borderLineColor,borderLineSize:e.label.borderLineSize,kerning:e.label.kerning,lineHeight:e.label.lineHeight,lineWidth:e.label.lineWidth,rotated:e.label.rotated,haloColor:e.label.haloColor,haloSize:e.label.haloSize,xoffset:e.label.xoffset,yoffset:e.label.yoffset,verticalAlignment:e.label.verticalAlignment,horizontalAlignment:e.label.horizontalAlignment,font:{size:e.label.size,family:"Josefin Slab",weight:e.label.weight}},l=new w({geometry:d.geometry.extent.center,symbol:y,attributes:u}),(h=C.view.map.findLayerById(C.displayedLayerid))&&h.add(l),C.mapoverlayers.push([k.uuid,e.uuid,l])}}else if("polygon"===e.overlaytype.toLowerCase()){var p=void 0;p=e.symbol?e.symbol:"simple"===k.symboltype?{type:"simple-fill",color:k.fillColor,style:k.style,outline:{color:k.strokeColor,width:k.strokeWeight,style:k.strokestyle}}:{type:"picture-fill",url:k.url,width:k.picwidth,height:k.picheight,outline:{style:k.strokestyle,color:k.strokeColor,width:k.strokeWeight}};var c=[];k.paths.forEach(function(e){c.push([e.X,e.Y,e.Z])});var f=e.attributes;f.uuid=e.uuid;var h,b=new x({hasZ:!0,hasM:!0,rings:c,spatialReference:C.view.spatialReference}),v=new w({geometry:b,symbol:p,attributes:f});if(C.mapoverlayers.push(["smap-default",k.uuid,v]),(h=C.view.map.findLayerById(C.displayedLayerid))&&h.add(v),k.label.visible){var m,g=null;g=e.label.labelingInfo?e.label.labelingInfo:{type:k.label.type,text:k.label.text,color:k.label.color,angle:k.label.angle,backgroundColor:k.label.backgroundColor,borderLineColor:k.label.borderLineColor,borderLineSize:k.label.borderLineSize,kerning:k.label.kerning,lineHeight:k.label.lineHeight,lineWidth:k.label.lineWidth,rotated:k.label.rotated,haloColor:k.label.haloColor,haloSize:k.label.haloSize,xoffset:k.label.xoffset,yoffset:k.label.yoffset,verticalAlignment:k.label.verticalAlignment,horizontalAlignment:k.label.horizontalAlignment,font:{size:k.label.size,family:"Josefin Slab",weight:k.label.weight}},l=new w({geometry:v.geometry.extent.center,symbol:g,attributes:f}),(m=C.view.map.findLayerById(C.displayedLayerid))&&m.add(l),C.mapoverlayers.push(["smap-default",k.uuid,l])}}});else if("element"===k.type)if(C.mapoverlayers.filter(function(e){return e[1]===k.uuid}).forEach(function(e){var t=C.view.map.findLayerById(C.displayedLayerid);t&&t.remove(e[2])}),C.mapoverlayers=C.mapoverlayers.filter(function(e){return e[1]!==k.uuid}),"marker"===k.overlaytype.toLowerCase()){var t=void 0;t=k.symbol?k.symbol:"2d"===C.view.type?{type:"picture-marker",url:k.icon.image,width:k.icon.size.width,height:k.icon.size.height}:{type:"point-3d",symbolLayers:[{type:"icon",size:k.icon.size.width,resource:{href:k.icon.image}}]};var i=k.attributes;i.uuid=k.uuid;var r=new w({geometry:new L({x:k.position[0],y:k.position[1],z:void 0===k.position[2]?0:k.position[2],spatialReference:C.view.spatialReference}),symbol:t,attributes:i});if(C.mapoverlayers.push(["smap-default",k.uuid,r]),(b=C.view.map.findLayerById(C.displayedLayerid))&&b.add(r),k.label.visible){var o=null;o=k.label.labelingInfo?k.label.labelingInfo:{type:k.label.type,text:k.label.text,color:k.label.color,angle:k.label.angle,backgroundColor:k.label.backgroundColor,borderLineColor:k.label.borderLineColor,borderLineSize:k.label.borderLineSize,kerning:k.label.kerning,lineHeight:k.label.lineHeight,lineWidth:k.label.lineWidth,rotated:k.label.rotated,haloColor:k.label.haloColor,haloSize:k.label.haloSize,xoffset:k.label.xoffset,yoffset:k.label.yoffset,verticalAlignment:k.label.verticalAlignment,horizontalAlignment:k.label.horizontalAlignment,font:{size:k.label.size,family:"Josefin Slab",weight:k.label.weight}};var l=new w({geometry:new L({x:"3d"===C.view.type?k.position[0]+k.label.xoffset:k.position[0],y:"3d"===C.view.type?k.position[1]+k.label.yoffset:k.position[1],z:"3d"===C.view.type?k.position[2]+k.label.zoffset:k.position[2],spatialReference:C.view.spatialReference}),symbol:o,attributes:i});(v=C.view.map.findLayerById(C.displayedLayerid))&&v.add(l),C.mapoverlayers.push(["smap-default",k.uuid,l])}}else if("polyline"===k.overlaytype.toLowerCase()){var a=null;a=k.symbol?k.symbol:{type:"simple-line",color:k.strokeColor,style:k.style,width:k.width,cap:k.cap,join:k.lineJoin};var n=[];k.path.forEach(function(e){n.push([e.X,e.Y,e.Z])});var s=new z({hasZ:!1,hasM:!1,paths:n,spatialReference:C.view.spatialReference}),u=k.attributes;u.uuid=k.uuid;var d=new w({geometry:s,symbol:a,attributes:u});if(C.mapoverlayers.push(["smap-default",k.uuid,d]),(v=C.view.map.findLayerById(C.displayedLayerid))&&v.add(d),k.label.visible){var y=null;y=k.label.labelingInfo?k.label.labelingInfo:{type:k.label.type,text:k.label.text,color:k.label.color,angle:k.label.angle,backgroundColor:k.label.backgroundColor,borderLineColor:k.label.borderLineColor,borderLineSize:k.label.borderLineSize,kerning:k.label.kerning,lineHeight:k.label.lineHeight,lineWidth:k.label.lineWidth,rotated:k.label.rotated,haloColor:k.label.haloColor,haloSize:k.label.haloSize,xoffset:k.label.xoffset,yoffset:k.label.yoffset,verticalAlignment:k.label.verticalAlignment,horizontalAlignment:k.label.horizontalAlignment,font:{size:k.label.size,family:"Josefin Slab",weight:k.label.weight}},l=new w({geometry:d.geometry.extent.center,symbol:y,attributes:u}),(b=C.view.map.findLayerById(C.displayedLayerid))&&b.add(l),C.mapoverlayers.push(["smap-default",k.uuid,l])}}else if("polygon"===k.overlaytype.toLowerCase()){var p=void 0;p=k.symbol?k.symbol:"simple"===k.symboltype?{type:"simple-fill",color:k.fillColor,style:k.style,outline:{color:k.strokeColor,width:k.strokeWeight,style:k.strokestyle}}:{type:"picture-fill",url:k.url,width:k.picwidth,height:k.picheight,outline:{style:k.strokestyle,color:k.strokeColor,width:k.strokeWeight}};var c=[];k.paths.forEach(function(e){c.push([e.X,e.Y,e.Z])});var f=new x({hasZ:!0,hasM:!0,rings:c,spatialReference:C.view.spatialReference}),h=k.attributes;h.uuid=k.uuid;var b,v,m=new w({geometry:f,symbol:p,attributes:h});if(C.mapoverlayers.push(["smap-default",k.uuid,m]),(b=C.view.map.findLayerById(C.displayedLayerid))&&b.add(m),k.label.visible)y=null,y=k.label.labelingInfo?k.label.labelingInfo:{type:k.label.type,text:k.label.text,color:k.label.color,angle:k.label.angle,backgroundColor:k.label.backgroundColor,borderLineColor:k.label.borderLineColor,borderLineSize:k.label.borderLineSize,kerning:k.label.kerning,lineHeight:k.label.lineHeight,lineWidth:k.label.lineWidth,rotated:k.label.rotated,haloColor:k.label.haloColor,haloSize:k.label.haloSize,xoffset:k.label.xoffset,yoffset:k.label.yoffset,verticalAlignment:k.label.verticalAlignment,horizontalAlignment:k.label.horizontalAlignment,font:{size:k.label.size,family:"Josefin Slab",weight:k.label.weight}},l=new w({geometry:m.geometry.extent.center,symbol:y,attributes:h}),(v=C.view.map.findLayerById(C.displayedLayerid))&&v.add(l),C.mapoverlayers.push(["smap-default",k.uuid,l])}})},$.prototype.removeAll=function(){var e=this.view.map.findLayerById(this.displayedLayerid);e&&(e.removeAll(),this.mapoverlayers=[])},$.prototype.delete=function(){var e=this.view.map.findLayerById(this.displayedLayerid);e&&(this.view.map.remove(e),this.mapoverlayers=[])},$.prototype.init=function(t){return V(this,void 0,void 0,function(){var r=this;return Q(this,function(e){return this.displayedLayerid=(new L).uuid,this.view=t,this.view.on(x.click,function(i){r.view.hitTest(i).then(function(t){return V(r,void 0,void 0,function(){return Q(this,function(e){return 0<t.results.length&&t.results[0].graphic.layer.id===this.displayedLayerid&&this.emit(x.click,t,i.mapPoint),[2]})})})}),this.view.on(x.pointermove,function(i){r.view.hitTest(i).then(function(t){return V(r,void 0,void 0,function(){return Q(this,function(e){return 0<t.results.length&&t.results[0].graphic.layer.id===this.displayedLayerid&&this.emit(x.pointermove,t,this.view.toMap({x:i.x,y:i.y})),[2]})})})}),[2]})})},$);function $(e){var t=Y.call(this)||this;return t.displayedLayerid="",t.view=null,t.mapoverlayers=[],t.init(e),t}var K,ee,te=(K=function(e,t){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),ie=function(e,a,n,s){return new(n=n||Promise)(function(i,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}l((s=s.apply(e,a||[])).next())})},re=function(i,r){var o,l,a,e,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,l&&(a=2&t[0]?l.return:t[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,t[1])).done)return a;switch(l=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,l=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(!(a=0<(a=n.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){n=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(6===t[0]&&n.label<a[1]){n.label=a[1],a=t;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(t);break}a[2]&&n.ops.pop(),n.trys.pop();continue}t=r.call(i,n)}catch(e){t=[6,e],l=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},oe=(te(le,ee=e),le.prototype.add=function(r){var o=this;w(["smiapi/utils/HeatMapLayer"]).then(function(e){var t=e[0],i={container:document.getElementById(r.container),radius:r.radius||30,maxOpacity:r.maxOpacity||.8,minOpacity:r.minOpacity||0,blur:r.blur||.7,gradient:r.gradient||{0:"rgb(0,0,0)",.3:"rgb(0,0,255)",.8:"rgb(0,255,0)",.98:"rgb(255,255,0)",1:"rgb(255,0,0)"}};o.heatmaplayer=new t(o.view,i,r.datas,r.h337,r.id),o.heatmaplayer.addData()})},le.prototype.remove=function(e){var t=document.getElementsByClassName("esri-view-surface")[0],i=document.getElementById(e);null!=i&&t.removeChild(i)},le.prototype.refreshdata=function(e){this.heatmaplayer.setVisible(!0),this.heatmaplayer.freshenLayerData(e)},le.prototype.show=function(){this.heatmaplayer.setVisible(!0)},le.prototype.hide=function(){this.heatmaplayer.setVisible(!1)},le.prototype.init=function(t){return ie(this,void 0,void 0,function(){return re(this,function(e){return this.displayedLayerid=(new L).uuid,this.view=t,[2]})})},le);function le(e){var t=ee.call(this)||this;return t.displayedLayerid="",t.view=null,t.heatmaplayer=null,t.init(e),t}var ae=(ne.shqxboundary="qx_boundary",ne.shjdboundary="jd_boundary",ne.shjwhboundary="jwh_boundary",ne);function ne(){}var se,ue,de=(se=function(e,t){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}se(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),ye=function(e,a,n,s){return new(n=n||Promise)(function(i,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}l((s=s.apply(e,a||[])).next())})},pe=function(i,r){var o,l,a,e,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,l&&(a=2&t[0]?l.return:t[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,t[1])).done)return a;switch(l=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,l=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(!(a=0<(a=n.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){n=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(6===t[0]&&n.label<a[1]){n.label=a[1],a=t;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(t);break}a[2]&&n.ops.pop(),n.trys.pop();continue}t=r.call(i,n)}catch(e){t=[6,e],l=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ce=(de(fe,ue=e),fe.prototype.add=function(c){var f=this;w(["esri/Graphic","esri/layers/GraphicsLayer","esri/geometry/Polygon","esri/geometry/geometryEngineAsync","esri/geometry/SpatialReference","esri/Color"]).then(function(e){var u=e[0],t=e[1],i=e[2],d=e[3],y=(e[4],e[5]),r=null;"qx_boundary"!==c.boundaryType&&"jd_boundary"!==c.boundaryType&&"jwh_boundary"!==c.boundaryType||(r=f.view.map.findLayerById(c.boundaryType));var p=f.view.map.findLayerById(f.displayedLayerid);if(null==p&&(p=new t({id:f.displayedLayerid,title:"遮罩层",listMode:"hide"}),f.view.map.add(p)),p.removeAll(),c.inputgeometry){if(null===(r=f.view.map.findLayerById("qx_boundary")))return;var o=new i({rings:c.inputgeometry,spatialReference:f.view.spatialReference}),l=r.fullExtent;l.spatialReference=f.view.spatialReference;var s=o;s.spatialReference=f.view.spatialReference,d.buffer(s,c.boundarydistance,"meters").then(function(e){d.difference(l,e).then(function(e){var t;t="3d"===f.view.type?c.symbol?{type:"polygon-3d",symbolLayers:[{type:"extrude",material:{color:c.maskColor},size:c.symbol.size,edges:{type:"solid",color:c.maskColor}}]}:{type:"polygon-3d",symbolLayers:[{type:"fill",material:{color:c.maskColor},outline:{color:"white",size:"0px"}}]}:{type:"simple-fill",color:c.maskColor,style:"solid",outline:{color:c.maskColor,width:1}};var i=new u({geometry:e,symbol:t});p.add(i);for(var o=void 0===c.bounarycount?30:c.bounarycount,l=Math.ceil(c.boundarydistance/o),a=new y(c.boundaryColor).toRgba(),r=function(r){d.buffer(s,r*o,"meters").then(function(t){d.buffer(s,(r-1)*o,"meters").then(function(e){d.difference(t,e).then(function(e){var t;a[3]=1/l*r,t="3d"===f.view.type?c.symbol?{type:"polygon-3d",symbolLayers:[{type:"extrude",material:{color:a},size:c.symbol.size,edges:{type:"solid",color:a}}]}:{type:"polygon-3d",symbolLayers:[{type:"fill",material:{color:a},outline:{color:"white",size:"0px"}}]}:{type:"simple-fill",color:a,style:"solid",outline:{color:a,width:1}};var i=new u({geometry:e,symbol:t});p.add(i)})})})},n=1;n<=l;n++)r(n)})})}else{if(console.log(r),null===r)return;var a=r.createQuery();a.where=c.boundaryDefinition,r.queryFeatures(a).then(function(e){if(e.features.length){var t=r.fullExtent;t.spatialReference=f.view.spatialReference;var s=e.features[0].geometry;s.spatialReference=f.view.spatialReference,d.buffer(s,c.boundarydistance,"meters").then(function(e){d.difference(t,e).then(function(e){var t;t="3d"===f.view.type?c.symbol?{type:"polygon-3d",symbolLayers:[{type:"extrude",material:{color:c.maskColor},size:c.symbol.size,edges:{type:"solid",color:c.maskColor}}]}:{type:"polygon-3d",symbolLayers:[{type:"fill",material:{color:c.maskColor},outline:{color:"white",size:"0px"}}]}:{type:"simple-fill",color:c.maskColor,style:"solid",outline:{color:c.maskColor,width:1}};var i=new u({geometry:e,symbol:t});p.add(i);for(var o=void 0===c.bounarycount?30:c.bounarycount,l=Math.ceil(c.boundarydistance/o),a=new y(c.boundaryColor).toRgba(),r=function(r){d.buffer(s,r*o,"meters").then(function(t){d.buffer(s,(r-1)*o,"meters").then(function(e){d.difference(t,e).then(function(e){var t;a[3]=1/l*r,t="3d"===f.view.type?c.symbol?{type:"polygon-3d",symbolLayers:[{type:"extrude",material:{color:a},size:c.symbol.size,edges:{type:"solid",color:a}}]}:{type:"polygon-3d",symbolLayers:[{type:"fill",material:{color:a},outline:{color:"white",size:"0px"}}]}:{type:"simple-fill",color:a,style:"solid",outline:{color:a,width:1}};var i=new u({geometry:e,symbol:t});p.add(i)})})})},n=1;n<=l;n++)r(n)})})}})}})},fe.prototype.remove=function(){var e=this.view.map.findLayerById(this.displayedLayerid);e&&this.view.map.remove(e)},fe.prototype.show=function(){var e=this.view.map.findLayerById(this.displayedLayerid);e&&(e.visible=!0)},fe.prototype.hide=function(){var e=this.view.map.findLayerById(this.displayedLayerid);e&&(e.visible=!1)},fe.prototype.init=function(t){return ye(this,void 0,void 0,function(){return pe(this,function(e){return this.displayedLayerid=(new L).uuid,this.view=t,[2]})})},fe);function fe(e){var t=ue.call(this)||this;return t.displayedLayerid="",t.view=null,t.init(e),t}var he,be,ve=(he=function(e,t){return(he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}he(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),me=function(e,a,n,s){return new(n=n||Promise)(function(i,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}l((s=s.apply(e,a||[])).next())})},ge=function(i,r){var o,l,a,e,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,l&&(a=2&t[0]?l.return:t[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,t[1])).done)return a;switch(l=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,l=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(!(a=0<(a=n.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){n=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(6===t[0]&&n.label<a[1]){n.label=a[1],a=t;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(t);break}a[2]&&n.ops.pop(),n.trys.pop();continue}t=r.call(i,n)}catch(e){t=[6,e],l=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},we=(ve(Le,be=e),Le.prototype.add=function(l){var a=this;void 0===l&&(l={}),w(["esri/layers/echartsLayer"]).then(function(e){var t=e[0],i=[];l.datas.forEach(function(e,t){i.push({name:e[0]+" Top10",type:"lines",coordinateSystem:"arcgis",zlevel:1,effect:{show:!0,period:6,trailLength:.7,color:"#fff",symbolSize:3},lineStyle:{normal:{color:l.color[t],width:0,curveness:.2}},data:a.convertData(e[1],l.geoCoordMap)},{name:e[0]+" Top10",type:"lines",coordinateSystem:"arcgis",zlevel:2,symbol:["none","arrow"],symbolSize:10,effect:{show:!0,period:6,trailLength:0,symbol:l.planePath,symbolSize:15},lineStyle:{normal:{color:l.color[t],width:1,opacity:.6,curveness:.2}},data:a.convertData(e[1],l.geoCoordMap)},{name:e[0]+" Top10",type:"effectScatter",coordinateSystem:"arcgis",zlevel:2,rippleEffect:{brushType:"stroke"},legendHoverLink:!0,hoverAnimation:!0,symbol:l.symbol,label:{normal:{show:!0,position:"right",formatter:"{b}"}},symbolSize:function(e){return e[2]/8},itemStyle:{normal:{color:l.color[t],shadowBlur:10,shadowColor:"#333"}},data:e[1].map(function(e){return{name:e[1].name,value:l.geoCoordMap[e[1].name].concat([e[1].value])}})})});var r=new t(a.view,"",l.id),o={title:{text:"",subtext:"",left:"center",textStyle:{color:"#fff"}},series:i};r.setChartOption(o)})},Le.prototype.remove=function(e){var t=document.getElementsByClassName("esri-view-surface")[0],i=document.getElementById(e);null!=i&&t.removeChild(i)},Le.prototype.convertData=function(e,t){for(var i=[],r=0,o=e;r<o.length;r++){var l=o[r],a=t[l[0].name],n=t[l[1].name];a&&n&&i.push({fromName:l[0].name,toName:l[1].name,coords:[a,n],value:l[1].value})}return i},Le.prototype.getAPIScript=function(e){return document.querySelector("script["+e+"]")},Le.prototype.loadAPIScript=function(o,l){var a=this;return new r.Promise(function(e,t){var i=a.getAPIScript(o);if(i){var r=i.getAttribute("src");r!==l?t(new Error("The echartgl is already loaded ("+r+").")):a.handleScriptLoad(i,e,t)}else i=a.createScript(o,l),a.handleScriptLoad(i,function(){i.setAttribute(o,"loaded"),e(i)},t),document.head.appendChild(i)})},Le.prototype.createScript=function(e,t){var i=document.createElement("script");return i.type="text/javascript",i.src=t,i.setAttribute(e,"loading"),i},Le.prototype.handleScriptLoad=function(e,t,i){var r;i&&(r=this.handleScriptError(e,i));var o=function(){t(e),e.removeEventListener("load",o,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",o,!1)},Le.prototype.handleScriptError=function(t,i){var r=function(e){i(e.error||new Error("There was an error attempting to load "+t.src)),t.removeEventListener("error",r,!1)};return t.addEventListener("error",r,!1),r},Le.prototype.init=function(t){return me(this,void 0,void 0,function(){return ge(this,function(e){return this.view=t,[2]})})},Le);function Le(e){var t=be.call(this)||this;return t.view=null,t.init(e),t}var ze,xe,ke=(ze=function(e,t){return(ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}ze(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),Ce=function(e,a,n,s){return new(n=n||Promise)(function(i,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}l((s=s.apply(e,a||[])).next())})},Se=function(i,r){var o,l,a,e,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,l&&(a=2&t[0]?l.return:t[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,t[1])).done)return a;switch(l=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,l=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(!(a=0<(a=n.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){n=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(6===t[0]&&n.label<a[1]){n.label=a[1],a=t;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(t);break}a[2]&&n.ops.pop(),n.trys.pop();continue}t=r.call(i,n)}catch(e){t=[6,e],l=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ie=(ke(Ae,xe=e),Ae.prototype.play=function(a){var n=this;void 0===a&&(a={}),w(["geolocate","esri/widgets/Track","esri/geometry/support/webMercatorUtils"]).then(function(e){var i=e[0],t=e[1],r=e[2];if(void 0!==a.coords){var o=0;n.track=new t({view:n.view,goToLocationEnabled:!1});var l=0;i.use(),void 0!==n.routepalybackinternal&&clearInterval(n.routepalybackinternal),n.routepalybackinternal=setInterval(function(){var e=r.xyToLngLat(a.coords[l].x,a.coords[l].y),t={lng:e[0],lat:e[1]};i.change(t),l=(l+1)%a.coords.length,++o===a.coords.length&&clearInterval(n.routepalybackinternal)},2500),n.view.when(function(){var t=n.view.center;n.track.on("track",function(){a.mobilesymbol&&(n.track.graphic.symbol=a.mobilesymbol);var e=n.track.graphic.geometry;1<o&&a.showtrail&&n.createAnimateRoute(e,t,a.trailsymbol),n.view.goTo({center:e,tilt:70,scale:2500,heading:360-n.getHeading(e,t),rotation:360-n.getHeading(e,t)}).catch(function(e){"AbortError"!==e.name&&console.error(e)}),t=e.clone()}),n.track.start()})}}).catch(function(e){console.error(e)})},Ae.prototype.remove=function(){this.routepalybackinternal,clearInterval(this.routepalybackinternal),this.track.destroy();var e=this.view.map.findLayerById(this.displayedLayerid);e&&this.view.map.remove(e)},Ae.prototype.getHeading=function(e,t){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI-90},Ae.prototype.createAnimateRoute=function(l,a,n){var s=this;w(["esri/Graphic","esri/layers/GraphicsLayer"]).then(function(e){var t=e[0],i=e[1],r=new t({geometry:{type:"polyline",paths:[[a.longitude,a.latitude],[l.longitude,l.latitude]]},symbol:void 0!==n?n:{type:"simple-line",color:[156,39,176],width:10}}),o=s.view.map.findLayerById(s.displayedLayerid);void 0===o&&(o=new i({title:"路径轨迹播放",id:s.displayedLayerid,listMode:"hide"}),s.view.map.add(o)),o.add(r)})},Ae.prototype.init=function(t){return Ce(this,void 0,void 0,function(){return Se(this,function(e){return this.displayedLayerid=(new L).uuid,this.view=t,[2]})})},Ae);function Ae(e){var t=xe.call(this)||this;return t.displayedLayerid="",t.view=null,t.routepalybackinternal=null,t.track=null,t.init(e),t}var Re,Ee,_e=(Re=function(e,t){return(Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}Re(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),Be=function(e,a,n,s){return new(n=n||Promise)(function(i,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(r,o)}l((s=s.apply(e,a||[])).next())})},je=function(i,r){var o,l,a,e,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,l&&(a=2&t[0]?l.return:t[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,t[1])).done)return a;switch(l=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,l=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(!(a=0<(a=n.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){n=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(6===t[0]&&n.label<a[1]){n.label=a[1],a=t;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(t);break}a[2]&&n.ops.pop(),n.trys.pop();continue}t=r.call(i,n)}catch(e){t=[6,e],l=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Pe=(_e(We,Ee=e),We.prototype.play=function(p){var c=this;void 0===p&&(p={}),w(["esri/geometry/Point","esri/Graphic","esri/layers/GraphicsLayer","esri/geometry/support/webMercatorUtils"]).then(function(e){var o=e[0],l=e[1],a=e[2];if(e[3],void 0!==p.coords){var n=0,s=0,u=c.view.center;void 0!==c.mapRoamplayinternal&&clearInterval(c.mapRoamplayinternal);var d=void 0!==p.duration?p.duration:2e3,y=void 0!==p.speedFactor?p.speedFactor:1;c.mapRoamplayinternal=setInterval(function(){var e={x:p.coords[s].x,y:p.coords[s].y,z:void 0!==p.coords[s].z?p.coords[s].z:0};s=(s+1)%p.coords.length,++n;var t=new o({x:e.x,y:e.y,z:e.z,spatialReference:c.view.spatialReference}),i=c.view.map.findLayerById(c.mobilelayerid);void 0===i&&(i=new a({title:"漫游路径"+c.mobilelayerid,id:c.mobilelayerid,listMode:"hide"}),c.view.map.add(i)),i.removeAll();var r=new l({geometry:t,symbol:p.mobilesymbol});i.add(r),1<n&&p.showtrail&&c.createAnimateRoute(t,u,p.trailsymbol),c.view.goTo({center:t,tilt:70,scale:2500,heading:360-c.getHeading(t,u),rotation:360-c.getHeading(t,u)},{speedFactor:y,duration:d-.2*d,maxDuration:d-.2*d,easing:"in-out-coast-quadratic"}).then().catch(function(e){"AbortError"!==e.name&&console.error(e)}),u=t.clone(),n===p.coords.length&&clearInterval(c.mapRoamplayinternal)},d)}}).catch(function(e){console.error(e)})},We.prototype.remove=function(){this.mapRoamplayinternal,clearInterval(this.mapRoamplayinternal);var e=this.view.map.findLayerById(this.displayedLayerid);e&&this.view.map.remove(e);var t=this.view.map.findLayerById(this.mobilelayerid);t&&this.view.map.remove(t)},We.prototype.getHeading=function(e,t){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI-90},We.prototype.createAnimateRoute=function(l,a,n){var s=this;w(["esri/Graphic","esri/layers/GraphicsLayer"]).then(function(e){var t=e[0],i=e[1],r=new t({geometry:{type:"polyline",paths:[[a.x,a.y,a.z],[l.x,l.y,l.z]],spatialReference:s.view.spatialReference},symbol:void 0!==n?n:{type:"simple-line",color:[156,39,176],width:10}}),o=s.view.map.findLayerById(s.displayedLayerid);void 0===o&&(o=new i({title:"漫游路径"+s.displayedLayerid,id:s.displayedLayerid,listMode:"hide"}),s.view.map.add(o)),o.add(r)})},We.prototype.init=function(t){return Be(this,void 0,void 0,function(){return je(this,function(e){return this.displayedLayerid=(new L).uuid,this.mobilelayerid=(new L).uuid,this.view=t,[2]})})},We);function We(e){var t=Ee.call(this)||this;return t.displayedLayerid="",t.view=null,t.mapRoamplayinternal=null,t.mobilelayerid="",t.init(e),t}return{load:w,Layers:ae,Boundary:E,GraphicOverlays:U,FeaureOverlays:M,FlashPoint3DLayer:q,HeatMap:oe,MaskBoundary:ce,TrajectoryPlus:Pe,MigrationMap:we,Trajectory:Ie}});
//# sourceMappingURL=Plugins.min.js.map
